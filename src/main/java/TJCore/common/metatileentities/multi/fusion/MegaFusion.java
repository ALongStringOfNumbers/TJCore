package TJCore.common.metatileentities.multi.fusion;

import TJCore.common.TJTextures;
//import TJCore.common.metatileentities.multi.TreeFarmer;
import TJCore.common.recipes.recipemaps.TJRecipeMaps;
import gregtech.api.metatileentity.MetaTileEntity;
import gregtech.api.metatileentity.MetaTileEntityHolder;
import gregtech.api.metatileentity.multiblock.IMultiblockPart;
import gregtech.api.metatileentity.multiblock.RecipeMapMultiblockController;
import gregtech.api.pattern.BlockPattern;
import gregtech.api.pattern.FactoryBlockPattern;
import gregtech.api.pattern.TraceabilityPredicate;
import gregtech.client.renderer.ICubeRenderer;
import gregtech.client.renderer.texture.Textures;
import gregtech.common.blocks.BlockFusionCasing;
import gregtech.common.blocks.BlockGlassCasing;
import gregtech.common.blocks.MetaBlocks;
//import net.minecraft.block.BlockGlass;
import net.minecraft.block.state.IBlockState;
import net.minecraft.util.ResourceLocation;

import javax.annotation.Nonnull;

public class MegaFusion extends RecipeMapMultiblockController {

    public MegaFusion(ResourceLocation metaTileEntityId) {
        super(metaTileEntityId, TJRecipeMaps.COMPONENT_ASSEMBLER_RECIPES);
    }

    @Override
    public TraceabilityPredicate autoAbilities() { return autoAbilities(true, false, true, true, true, true, false); }

    @Override
    protected BlockPattern createStructurePattern() {
        return FactoryBlockPattern.start()
                .aisle("#############################################", "#############################################", "#############################################", "####################BBBBB####################", "##################GGGGGGGGG##################", "##################GGGGGGGGG##################", "##################GGGGGGGGG##################", "####################BBBBB####################", "#############################################", "#############################################", "#############################################")
                .aisle("#############################################", "#############################################", "#################BBBBBBBBBBB#################", "################BBBB#####BBBB################", "###############GGG#########GGG###############", "##############GGGG#########GGGG##############", "###############GGG#########GGG###############", "################BBBB#####BBBB################", "#################BBBBBBBBBBB#################", "#############################################", "#############################################")
                .aisle("#############################################", "#################BBBBBBBBBBB#################", "##############BBB###########BBB##############", "#############BBB#############BBB#############", "############GGG###############GGG############", "############GG#################GG############", "############GGG###############GGG############", "#############BBB#############BBB#############", "##############BBB###########BBB##############", "#################BBBBBBBBBBB#################", "#############################################")
                .aisle("###################BBBBBBB###################", "##############BBBBB#######BBBBB##############", "############BB#################BB############", "###########BB###################BB###########", "###########G#####################G###########", "##########GG#####################GG##########", "###########G#####################G###########", "###########BB###################BB###########", "############BB#################BB############", "##############BBBBB#######BBBBB##############", "###################BBBBBBB###################")
                .aisle("################BBBBBBBBBBBBB################", "############BBBB#############BBBB############", "###########B#####################B###########", "##########B#######################B##########", "#########GG#######################GG#########", "#########G#########################G#########", "#########GG#######################GG#########", "##########B#######################B##########", "###########B#####################B###########", "############BBBB#############BBBB############", "################BBBBBBBBBBBBB################")
                .aisle("#############BBBBBBBBBBBBBBBBBBB#############", "###########BB###################BB###########", "#########BB#######################BB#########", "########BB#########################BB########", "########G###########################G########", "########G###########################G########", "########G###########################G########", "########BB#########################BB########", "#########BB#######################BB#########", "###########BB###################BB###########", "#############BBBBBBBBBBBBBBBBBBB#############")
                .aisle("############BBBBBBBBBBBBBBBBBBBBB############", "#########BBB#####################BBB#########", "########B###########################B########", "#######B#############################B#######", "#######G#############################G#######", "#######G#############################G#######", "#######G#############################G#######", "#######B#############################B#######", "########B###########################B########", "#########BBB#####################BBB#########", "############BBBBBBBBBBBBBBBBBBBBB############")
                .aisle("##########BBBBBBBBBBBBBBBBBBBBBBBBB##########", "########BB#########################BB########", "#######B#############################B#######", "######B###############################B######", "######G###############################G######", "######G###############################G######", "######G###############################G######", "######B###############################B######", "#######B#############################B#######", "########BB#########################BB########", "##########BBBBBBBBBBBBBBBBBBBBBBBBB##########")
                .aisle("#########BBBBBBBBB#########BBBBBBBBB#########", "#######BB#########BBBBBBBBB#########BB#######", "######B###############################B######", "#####B#################################B#####", "#####G#################################G#####", "#####G#################################G#####", "#####G#################################G#####", "#####B#################################B#####", "######B###############################B######", "#######BB#########BBBBBBBBB#########BB#######", "#########BBBBBBBBB#########BBBBBBBBB#########")
                .aisle("########BBBBBBBB#############BBBBBBBB########", "######BB########BBBB#####BBBB########BB######", "#####B#############BBBBBBB#############B#####", "#####B#################################B#####", "####G###################################G####", "####G###################################G####", "####G###################################G####", "#####B#################################B#####", "#####B#############BBBBBBB#############B#####", "######BB########BBBB#####BBBB########BB######", "########BBBBBBBB#############BBBBBBBB########")
                .aisle("#######BBBBBBB#################BBBBBBB#######", "######B#######BBB###########BBB#######B######", "#####B###########BB#######BB###########B#####", "####B#############BBBBBBBBB#############B####", "####G##############GGGGGGG##############G####", "###G###############GGGGGGG###############G###", "####G##############GGGGGGG##############G####", "####B#############BBBBBBBBB#############B####", "#####B###########BB#######BB###########B#####", "######B#######BBB###########BBB#######B######", "#######BBBBBBB#################BBBBBBB#######")
                .aisle("#######BBBBBB###################BBBBBB#######", "#####BB######BB###############BB######BB#####", "####B##########BB###########BB##########B####", "###B############BB#########BB############B###", "###G#############GG#######GG#############G###", "###G#############GG#######GG#############G###", "###G#############GG#######GG#############G###", "###B############BB#########BB############B###", "####B##########BB###########BB##########B####", "#####BB######BB###############BB######BB#####", "#######BBBBBB###################BBBBBB#######")
                .aisle("######BBBBBB#####################BBBBBB######", "####BB######BB#################BB######BB####", "###B##########B###############B##########B###", "###B###########B#############B###########B###", "##G############GG###########GG############G##", "##G############GG###########GG############G##", "##G############GG###########GG############G##", "###B###########B#############B###########B###", "###B##########B###############B##########B###", "####BB######BB#################BB######BB####", "######BBBBBB#####################BBBBBB######")
                .aisle("#####BBBBBB#######################BBBBBB#####", "####B######BB###################BB######B####", "###B#########B#################B#########B###", "##B###########B###############B###########B##", "##G###########G###############G###########G##", "##G###########G###############G###########G##", "##G###########G###############G###########G##", "##B###########B###############B###########B##", "###B#########B#################B#########B###", "####B######BB###################BB######B####", "#####BBBBBB#######################BBBBBB#####")
                .aisle("#####BBBBB#########################BBBBB#####", "###BB#####BB#####################BB#####BB###", "##B#########B###################B#########B##", "##B##########B#################B##########B##", "##G##########G#################G##########G##", "#G###########G#################G###########G#", "##G##########G#################G##########G##", "##B##########B#################B##########B##", "##B#########B###################B#########B##", "###BB#####BB#####################BB#####BB###", "#####BBBBB#########################BBBBB#####")
                .aisle("#####BBBBB#########################BBBBB#####", "###BB#####B#######################B#####BB###", "##B########B#####################B########B##", "##B#########B###################B#########B##", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "##B#########B###################B#########B##", "##B########B#####################B########B##", "###BB#####B#######################B#####BB###", "#####BBBBB#########################BBBBB#####")
                .aisle("####BBBBB###########################BBBBB####", "###B#####BB#######################BB#####BB##", "##B########B#####################B########B##", "#B#########B#####################B#########B#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#B#########B#####################B#########B#", "##B########B#####################B########B##", "###B#####BB#######################BB#####BB##", "####BBBBB###########################BBBBB####")
                .aisle("####BBBBB###########################BBBBB####", "##BB#####B#########################B#####BB##", "#B########B#######################B########B#", "#B#########B#####################B#########B#", "#G#########G#####################G#########G#", "#G#########G#####################G#########G#", "#G#########G#####################G#########G#", "#B#########B#####################B#########B#", "#B########B#######################B########B#", "##BB#####B#########################B#####BB##", "####BBBBB###########################BBBBB####")
                .aisle("####BBBB#############################BBBB####", "##BB####BB#########################BB####BB##", "#B########B#######################B########B#", "#B########B#######################B########B#", "G##########G#####################G##########G", "G##########G#####################G##########G", "G##########G#####################G##########G", "#B########B#######################B########B#", "#B########B#######################B########B#", "##BB####BB#########################BB####BB##", "####BBBB#############################BBBB####")
                .aisle("###BBBBB#############################BBBBB###", "##B#####BB#########################BB#####B##", "#B#######B#########################B#######B#", "#B########B#######################B########B#", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "#B########B#######################B########B#", "#B#######B#########################B#######B#", "##B#####BB#########################BB#####B##", "###BBBBB#############################BBBBB###")
                .aisle("###BBBBB#############################BBBBB###", "##B#####B###########################B#####B##", "#B#######B#########################B#######B#", "B#########B#######################B#########B", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "B#########B#######################B#########B", "#B#######B#########################B#######B#", "##B#####B###########################B#####B##", "###BBBBB#############################BBBBB###")
                .aisle("###BBBBB#############################BBBBB###", "##B#####B###########################B#####B##", "#B#######B#########################B#######B#", "B#########B#######################B#########B", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "B#########B#######################B#########B", "#B#######B#########################B#######B#", "##B#####B###########################B#####B##", "###BBBBB#############################BBBBB###")
 /**/           .aisle("###BBBBB#############################BBBBB###", "##B#####B###########################B#####B##", "#B#######B#########################B#######B#", "B#########B#######################B#########B", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "B#########B#######################B#########B", "#B#######B#########################B#######B#", "##B#####B###########################B#####B##", "###BBBBB#############################BBBBB###")
                .aisle("###BBBBB#############################BBBBB###", "##B#####B###########################B#####B##", "#B#######B#########################B#######B#", "#B########B#######################B########B#", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "#B########B#######################B########B#", "#B#######B#########################B#######B#", "##B#####B###########################B#####B##", "###BBBBB#############################BBBBB###")
                .aisle("###BBBBB#############################BBBBB###", "##B#####B###########################B#####B##", "#B#######B#########################B#######B#", "#B########B#######################B########B#", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "#B########B#######################B########B#", "#B#######B#########################B#######B#", "##B#####B###########################B#####B##", "###BBBBB#############################BBBBB###")
                .aisle("###BBBBB#############################BBBBB###", "##B#####BB#########################BB#####B##", "#B#######B#########################B#######B#", "#B########B#######################B########B#", "G#########G#######################G#########G", "G#########G#######################G#########G", "G#########G#######################G#########G", "#B########B#######################B########B#", "#B#######B#########################B#######B#", "##B#####BB#########################BB#####B##", "###BBBBB#############################BBBBB###")
                .aisle("####BBBB#############################BBBB####", "##BB####BB#########################BB####BB##", "#B########B#######################B########B#", "#B########B#######################B########B#", "G##########G#####################G##########G", "G##########G#####################G##########G", "G##########G#####################G##########G", "#B########B#######################B########B#", "#B########B#######################B########B#", "##BB####BB#########################BB####BB##", "####BBBB#############################BBBB####")
                .aisle("####BBBBB###########################BBBBB####", "##BB#####B#########################B#####BB##", "#B########B#######################B########B#", "#B#########B#####################B#########B#", "#G#########G#####################G#########G#", "#G#########G#####################G#########G#", "#G#########G#####################G#########G#", "#B#########B#####################B#########B#", "#B########B#######################B########B#", "##BB#####B#########################B#####BB##", "####BBBBB###########################BBBBB####")
                .aisle("####BBBBB###########################BBBBB####", "##BB#####BB#######################BB#####BB##", "##B########B#####################B########B##", "#B#########B#####################B#########B#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#B#########B#####################B#########B#", "##B########B#####################B########B##", "##BB#####BB#######################BB#####BB##", "####BBBBB###########################BBBBB####")
                .aisle("#####BBBBB#########################BBBBB#####", "###BB#####B#######################B#####BB###", "##B########B#####################B########B##", "##B#########B###################B#########B##", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "#G##########G###################G##########G#", "##B#########B###################B#########B##", "##B########B#####################B########B##", "###BB#####B#######################B#####BB###", "#####BBBBB#########################BBBBB#####")
                .aisle("#####BBBBB#########################BBBBB#####", "###BB#####BB#####################BB#####BB###", "##B#########B###################B#########B##", "##B##########B#################B##########B##", "##G##########G#################G##########G##", "#G###########G#################G###########G#", "##G##########G#################G##########G##", "##B##########B#################B##########B##", "##B#########B###################B#########B##", "###BB#####BB#####################BB#####BB###", "#####BBBBB#########################BBBBB#####")
                .aisle("#####BBBBBB#######################BBBBBB#####", "####B######BB###################BB######B####", "###B#########B#################B#########B###", "##B###########B###############B###########B##", "##G###########G###############G###########G##", "##G###########G###############G###########G##", "##G###########G###############G###########G##", "##B###########B###############B###########B##", "###B#########B#################B#########B###", "####B######BB###################BB######B####", "#####BBBBBB#######################BBBBBB#####")
                .aisle("######BBBBBB#####################BBBBBB######", "####BB######BB#################BB######BB####", "###B##########B###############B##########B###", "###B###########B#############B###########B###", "##G############GG###########GG############G##", "##G############GG###########GG############G##", "##G############GG###########GG############G##", "###B###########B#############B###########B###", "###B##########B###############B##########B###", "####BB######BB#################BB######BB####", "######BBBBBB#####################BBBBBB######")
                .aisle("#######BBBBBB###################BBBBBB#######", "#####BB######BB###############BB######BB#####", "####B##########BB###########BB##########B####", "###B############BB#########BB############B###", "###G#############GG#######GG#############G###", "###G#############GG#######GG#############G###", "###G#############GG#######GG#############G###", "###B############BB#########BB############B###", "####B##########BB###########BB##########B####", "#####BB######BB###############BB######BB#####", "#######BBBBBB###################BBBBBB#######")
                .aisle("#######BBBBBBB#################BBBBBBB#######", "######B#######BBB###########BBB#######B######", "#####B###########BB#######BB###########B#####", "####B#############BBBBBBBBB#############B####", "####G##############GGGGGGG##############G####", "###G###############GGGCGGG###############G###", "####G##############GGGGGGG##############G####", "####B#############BBBBBBBBB#############B####", "#####B###########BB#######BB###########B#####", "######B#######BBB###########BBB#######B######", "#######BBBBBBB#################BBBBBBB#######")
                .aisle("########BBBBBBBB#############BBBBBBBB########", "######BB########BBBB#####BBBB########BB######", "#####B#############BBBBBBB#############B#####", "#####B#################################B#####", "####G###################################G####", "####G###################################G####", "####G###################################G####", "#####B#################################B#####", "#####B#############BBBBBBB#############B#####", "######BB########BBBB#####BBBB########BB######", "########BBBBBBBB#############BBBBBBBB########")
                .aisle("#########BBBBBBBBB#########BBBBBBBBB#########", "#######BB#########BBBBBBBBB#########BB#######", "######B###############################B######", "#####B#################################B#####", "#####G#################################G#####", "#####G#################################G#####", "#####G#################################G#####", "#####B#################################B#####", "######B###############################B######", "#######BB#########BBBBBBBBB#########BB#######", "#########BBBBBBBBB#########BBBBBBBBB#########")
                .aisle("##########BBBBBBBBBBBBBBBBBBBBBBBBB##########", "########BB#########################BB########", "#######B#############################B#######", "######B###############################B######", "######G###############################G######", "######G###############################G######", "######G###############################G######", "######B###############################B######", "#######B#############################B#######", "########BB#########################BB########", "##########BBBBBBBBBBBBBBBBBBBBBBBBB##########")
                .aisle("############BBBBBBBBBBBBBBBBBBBBB############", "#########BBB#####################BBB#########", "########B###########################B########", "#######B#############################B#######", "#######G#############################G#######", "#######G#############################G#######", "#######G#############################G#######", "#######B#############################B#######", "########B###########################B########", "#########BBB#####################BBB#########", "############BBBBBBBBBBBBBBBBBBBBB############")
                .aisle("#############BBBBBBBBBBBBBBBBBBB#############", "###########BB###################BB###########", "#########BB#######################BB#########", "########BB#########################BB########", "########G###########################G########", "########G###########################G########", "########G###########################G########", "########BB#########################BB########", "#########BB#######################BB#########", "###########BB###################BB###########", "#############BBBBBBBBBBBBBBBBBBB#############")
                .aisle("################BBBBBBBBBBBBB################", "############BBBB#############BBBB############", "###########B#####################B###########", "##########B#######################B##########", "#########GG#######################GG#########", "#########G#########################G#########", "#########GG#######################GG#########", "##########B#######################B##########", "###########B#####################B###########", "############BBBB#############BBBB############", "################BBBBBBBBBBBBB################")
                .aisle("###################BBBBBBB###################", "##############BBBBB#######BBBBB##############", "############BB#################BB############", "###########BB###################BB###########", "###########G#####################G###########", "##########GG#####################GG##########", "###########G#####################G###########", "###########BB###################BB###########", "############BB#################BB############", "##############BBBBB#######BBBBB##############", "###################BBBBBBB###################")
                .aisle("#############################################", "#################BBBBBBBBBBB#################", "##############BBB###########BBB##############", "#############BBB#############BBB#############", "############GGG###############GGG############", "############GG#################GG############", "############GGG###############GGG############", "#############BBB#############BBB#############", "##############BBB###########BBB##############", "#################BBBBBBBBBBB#################", "#############################################")
                .aisle("#############################################", "#############################################", "#################BBBBBBBBBBB#################", "################BBBB#####BBBB################", "###############GGG#########GGG###############", "##############GGGG#########GGGG##############", "###############GGG#########GGG###############", "################BBBB#####BBBB################", "#################BBBBBBBBBBB#################", "#############################################", "#############################################")
                .aisle("#############################################", "#############################################", "#############################################", "####################BBBBB####################", "##################GGGGGGGGG##################", "##################GGGGGGGGG##################", "##################GGGGGGGGG##################", "####################BBBBB####################", "#############################################", "#############################################", "#############################################")
                .where('#', any())
                .where('C', selfPredicate())
                .where('A', air())
                .where('B', states(getCasingState()).setMinGlobalLimited(800))
                .where('G', states(getCasingState()).setMinGlobalLimited(800).or(states(MetaBlocks.TRANSPARENT_CASING.getState(BlockGlassCasing.CasingType.FUSION_GLASS))).setMaxGlobalLimited(120))
                .build();
    }

    @Override
    public void update() {
    }

    public ICubeRenderer getBaseTexture(IMultiblockPart iMultiblockPart) { return TJTextures.TreeFarmerController; }

    private IBlockState getCasingState() {
        return MetaBlocks.FUSION_CASING.getState(BlockFusionCasing.CasingType.FUSION_CASING_MK3);
    }

    @Override
    public MetaTileEntity createMetaTileEntity(MetaTileEntityHolder metaTileEntityHolder) {
        return new MegaFusion(metaTileEntityId);
    }

    @Nonnull
    @Override
    protected ICubeRenderer getFrontOverlay() {
        return Textures.MULTIBLOCK_WORKABLE_OVERLAY;
    }

    @Override
    public boolean hasMaintenanceMechanics() {
        return false;
    }



}
